{"version":3,"sources":["reportWebVitals.js","services/auth.service.js","components/Login.js","components/Register.js","services/auth-header.js","services/user.service.js","components/Home.js","components/Profile.js","components/BoardUser.js","App.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","API_URL","nombre","apellidos","username","password","tipoUsuario","axios","post","response","data","token","localStorage","setItem","JSON","stringify","console","log","removeItem","parse","getItem","required","value","className","role","Login","props","form","useRef","checkBtn","useState","setUsername","setPassword","loading","setLoading","message","setMessage","src","alt","onSubmit","e","preventDefault","current","validateAll","context","_errors","length","AuthService","history","push","window","location","reload","error","resMessage","toString","ref","htmlFor","type","name","onChange","target","validations","disabled","style","display","vusername","vpassword","Register","setNombre","setApellidos","setTipoUsuario","successful","setSuccessful","usuario","authHeader","user","accessToken","Authorization","fetch","json","get","headers","Home","content","setContent","useEffect","UserService","_content","Profile","currentUser","substring","substr","BoardUser","App","undefined","setCurrentUser","to","href","onClick","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.91608ee5.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import axios from \"axios\";\r\n\r\nconst API_URL = \"https://peace-of-mind-backend.herokuapp.com/v1/\";\r\n\r\nconst register = (nombre, apellidos, username, password, tipoUsuario) => {\r\n    return axios.post(API_URL + \"usuarios\", {\r\n        \"nombre\": nombre,\r\n        \"apellidos\": apellidos,\r\n        \"usuario\": username,\r\n        \"password\": password,\r\n        \"tipoUsuario\": tipoUsuario\r\n    })\r\n    .then((response) => {\r\n        if (response.data.token) {\r\n            localStorage.setItem(\"user\", JSON.stringify(response.data));\r\n        }\r\n\r\n        return response.data;\r\n    });\r\n};\r\n\r\nconst login = (username, password) => {\r\n    return axios\r\n        .post(API_URL + \"/usuarios/entrar\", {\r\n            \"usuario\": username,\r\n            \"password\": password,\r\n        })\r\n        .then((response) => {\r\n            console.log(response);\r\n            if (response.data.token) {\r\n                localStorage.setItem(\"user\", JSON.stringify(response.data));\r\n            }\r\n    \r\n            return response.data;\r\n        });\r\n};\r\n\r\nconst logout = () => {\r\n    localStorage.removeItem(\"user\");\r\n};\r\n\r\nconst getCurrentUser = () => {\r\n    return JSON.parse(localStorage.getItem(\"user\"));\r\n};\r\n\r\nexport default {\r\n    register,\r\n    login,\r\n    logout,\r\n    getCurrentUser,\r\n};\r\n","import React, { useState, useRef } from \"react\";\r\nimport Form from \"react-validation/build/form\";\r\nimport Input from \"react-validation/build/input\";\r\nimport CheckButton from \"react-validation/build/button\";\r\n\r\nimport AuthService from \"../services/auth.service\";\r\n\r\nconst required = (value) => {\r\n    if (!value) {\r\n        return (\r\n            <div className=\"alert alert-danger\" role=\"alert\">\r\n                This field is required!\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst Login = (props) => {\r\n    const form = useRef();\r\n    const checkBtn = useRef();\r\n\r\n    const [username, setUsername] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n    const [message, setMessage] = useState(\"\");\r\n\r\n    const onChangeUsername = (e) => {\r\n        const username = e.target.value;\r\n        setUsername(username);\r\n    };\r\n\r\n    const onChangePassword = (e) => {\r\n        const password = e.target.value;\r\n        setPassword(password);\r\n    };\r\n\r\n    const handleLogin = (e) => {\r\n        e.preventDefault();\r\n\r\n        setMessage(\"\");\r\n        setLoading(true);\r\n\r\n        form.current.validateAll();\r\n\r\n        if (checkBtn.current.context._errors.length === 0) {\r\n            AuthService.login(username, password).then(\r\n                () => {\r\n                    props.history.push(\"/profile\");\r\n                    window.location.reload();\r\n                },\r\n                (error) => {\r\n                    const resMessage =\r\n                        (error.response &&\r\n                            error.response.data &&\r\n                            error.response.data.message) ||\r\n                        error.message ||\r\n                        error.toString();\r\n\r\n                    setLoading(false);\r\n                    setMessage(resMessage);\r\n                }\r\n            );\r\n        } else {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"col-md-12\">\r\n            <div className=\"card card-container\">\r\n                <img\r\n                    src=\"//ssl.gstatic.com/accounts/ui/avatar_2x.png\"\r\n                    alt=\"profile-img\"\r\n                    className=\"profile-img-card\"\r\n                />\r\n\r\n                <Form onSubmit={handleLogin} ref={form}>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"username\">Username</label>\r\n                        <Input\r\n                            type=\"text\"\r\n                            className=\"form-control\"\r\n                            name=\"username\"\r\n                            value={username}\r\n                            onChange={onChangeUsername}\r\n                            validations={[required]}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"password\">Password</label>\r\n                        <Input\r\n                            type=\"password\"\r\n                            className=\"form-control\"\r\n                            name=\"password\"\r\n                            value={password}\r\n                            onChange={onChangePassword}\r\n                            validations={[required]}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <button className=\"btn btn-primary btn-block\" disabled={loading}>\r\n                            {loading && (\r\n                                <span className=\"spinner-border spinner-border-sm\"></span>\r\n                            )}\r\n                            <span>Login</span>\r\n                        </button>\r\n                    </div>\r\n\r\n                    {message && (\r\n                        <div className=\"form-group\">\r\n                            <div className=\"alert alert-danger\" role=\"alert\">\r\n                                {message}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                    <CheckButton style={{ display: \"none\" }} ref={checkBtn} />\r\n                </Form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;","import React, { useState, useRef } from \"react\";\r\nimport Form from \"react-validation/build/form\";\r\nimport Input from \"react-validation/build/input\";\r\nimport Select from \"react-validation/build/select\";\r\nimport CheckButton from \"react-validation/build/button\";\r\n\r\nimport AuthService from \"../services/auth.service\";\r\n\r\nconst required = (value) => {\r\n    if (!value) {\r\n        return (\r\n            <div className=\"alert alert-danger\" role=\"alert\">\r\n                This field is required!\r\n            </div>\r\n        );\r\n    }\r\n};\r\nconst vusername = (value) => {\r\n    if (value.length < 3 || value.length > 20) {\r\n        return (\r\n            <div className=\"alert alert-danger\" role=\"alert\">\r\n                The username must be between 3 and 20 characters.\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst vpassword = (value) => {\r\n    if (value.length < 6 || value.length > 40) {\r\n        return (\r\n            <div className=\"alert alert-danger\" role=\"alert\">\r\n                The password must be between 6 and 40 characters.\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst Register = (props) => {\r\n    const form = useRef();\r\n    const checkBtn = useRef();\r\n\r\n    const [nombre, setNombre] = useState(\"\");\r\n    const [apellidos, setApellidos] = useState(\"\");\r\n    const [tipoUsuario, setTipoUsuario] = useState(\"\");\r\n    const [username, setUsername] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [successful, setSuccessful] = useState(false);\r\n    const [message, setMessage] = useState(\"\");\r\n\r\n    const onChangeNombre = (e) => {\r\n        const nombre = e.target.value;\r\n        setNombre(nombre);\r\n    };\r\n    const onChangeApellidos = (e) => {\r\n        const apellidos = e.target.value;\r\n        setApellidos(apellidos);\r\n    };\r\n    const onChangeTipoUsuario = (e) => {\r\n        const tipoUsuario = e.target.value;\r\n        setTipoUsuario(tipoUsuario);\r\n    };\r\n    const onChangeUsername = (e) => {\r\n        const username = e.target.value;\r\n        setUsername(username);\r\n    };\r\n\r\n    const onChangePassword = (e) => {\r\n        const password = e.target.value;\r\n        setPassword(password);\r\n    };\r\n\r\n    const handleRegister = (e) => {\r\n        e.preventDefault();\r\n\r\n        setMessage(\"\");\r\n        setSuccessful(false);\r\n\r\n        form.current.validateAll();\r\n\r\n        if (checkBtn.current.context._errors.length === 0) {\r\n            AuthService.register(nombre, apellidos, username, password, tipoUsuario).then(\r\n                (response) => {\r\n                    setMessage(response.usuario);\r\n                    setSuccessful(true);\r\n                },\r\n                (error) => {\r\n                    const resMessage =\r\n                        (error.response &&\r\n                            error.response.usuario) ||\r\n                        error.message ||\r\n                        error.toString();\r\n\r\n                    setMessage(resMessage);\r\n                    setSuccessful(false);\r\n                }\r\n            );\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"col-md-12\">\r\n            <div className=\"card card-container\">\r\n                <img\r\n                    src=\"//ssl.gstatic.com/accounts/ui/avatar_2x.png\"\r\n                    alt=\"profile-img\"\r\n                    className=\"profile-img-card\"\r\n                />\r\n\r\n                <Form onSubmit={handleRegister} ref={form}>\r\n                    {!successful && (\r\n                        <div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"nombre\">Nombre</label>\r\n                                <Input\r\n                                    type=\"text\"\r\n                                    className=\"form-control\"\r\n                                    name=\"nombre\"\r\n                                    value={nombre}\r\n                                    onChange={onChangeNombre}\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"apellidos\">Apellidos</label>\r\n                                <Input\r\n                                    type=\"text\"\r\n                                    className=\"form-control\"\r\n                                    name=\"apellidos\"\r\n                                    value={apellidos}\r\n                                    onChange={onChangeApellidos}\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"tipoUsuario\">Tipo de Usuario</label>\r\n                                <Select name='tipoUsuario' \r\n                                    className=\"form-control\"\r\n                                    value={tipoUsuario}\r\n                                    onChange={onChangeTipoUsuario}\r\n                                    validations={[required]}>\r\n                                    <option value='indirecto'>Indirecto</option>\r\n                                    <option value='directo'>Directo</option>\r\n                                    <option value='externo'>Externo</option>\r\n                                </Select>\r\n                            </div>\r\n                            \r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"username\">Username</label>\r\n                                <Input\r\n                                    type=\"text\"\r\n                                    className=\"form-control\"\r\n                                    name=\"username\"\r\n                                    value={username}\r\n                                    onChange={onChangeUsername}\r\n                                    validations={[required, vusername]}\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"password\">Password</label>\r\n                                <Input\r\n                                    type=\"password\"\r\n                                    className=\"form-control\"\r\n                                    name=\"password\"\r\n                                    value={password}\r\n                                    onChange={onChangePassword}\r\n                                    validations={[required, vpassword]}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <button className=\"btn btn-primary btn-block\">Sign Up</button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {message && (\r\n                        <div className=\"form-group\">\r\n                            <div\r\n                                className={successful ? \"alert alert-success\" : \"alert alert-danger\"}\r\n                                role=\"alert\"\r\n                            >\r\n                                Bienvenido {message}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                    <CheckButton style={{ display: \"none\" }} ref={checkBtn} />\r\n                </Form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Register;\r\n","export default function authHeader() {\r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n\r\n    if (user && user.accessToken) {\r\n        return { Authorization: 'Bearer ' + user.accessToken };\r\n    } else {\r\n        return {};\r\n    }\r\n}\r\n\r\n","import axios from \"axios\";\r\nimport authHeader from \"./auth-header\";\r\n\r\nconst API_URL = \"https://peace-of-mind-backend.herokuapp.com/v1/\";\r\n\r\nconst getPublicContent = () => {\r\n    return fetch(API_URL + \"enfermedades\").then(\r\n        (data) => data.json()\r\n    )\r\n\r\n};\r\n\r\nconst getUserBoard = () => {\r\n    return axios.get(API_URL + \"user\", { headers: authHeader() });\r\n};\r\n\r\n\r\nexport default {\r\n    getPublicContent,\r\n    getUserBoard,\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport UserService from \"../services/user.service\";\r\n\r\nconst Home = () => {\r\n    const [content, setContent] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        UserService.getPublicContent().then(\r\n            (response) => {\r\n                setContent(response[0].nombre);\r\n                console.log(response);\r\n            },\r\n            (error) => {\r\n                const _content =\r\n                    (error.response && error.response.data) ||\r\n                    error.message ||\r\n                    error.toString();\r\n\r\n                setContent(_content);\r\n            }\r\n        );\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <header className=\"jumbotron\">\r\n                <h3>{content}</h3>\r\n            </header>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Home;","import React from \"react\";\r\nimport AuthService from \"../services/auth.service\";\r\n\r\nconst Profile = () => {\r\n    const currentUser = AuthService.getCurrentUser();\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <header className=\"jumbotron\">\r\n                <h3>\r\n                    <strong>Perfil</strong> {currentUser.usuario}\r\n                </h3>\r\n            </header>\r\n            <p>\r\n                <strong>Token:</strong> {currentUser.token.substring(0, 20)} ...{\" \"}\r\n                {currentUser.token.substr(currentUser.token.length - 20)}\r\n            </p>\r\n            <p>\r\n                <strong>Nombre:</strong> {currentUser.nombre}\r\n            </p>\r\n            <p>\r\n                <strong>Apellidos:</strong> {currentUser.apellidos}\r\n            </p>\r\n            <strong>Tipo de usuario:</strong> {currentUser.tipoUsuario }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Profile;","import React, { useState, useEffect } from \"react\";\r\n\r\nimport UserService from \"../services/user.service\";\r\n\r\nconst BoardUser = () => {\r\n    const [content, setContent] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        UserService.getUserBoard().then(\r\n            (response) => {\r\n                setContent(response.data);\r\n            },\r\n            (error) => {\r\n                const _content =\r\n                    (error.response &&\r\n                        error.response.data &&\r\n                        error.response.data.message) ||\r\n                    error.message ||\r\n                    error.toString();\r\n\r\n                setContent(_content);\r\n            }\r\n        );\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <header className=\"jumbotron\">\r\n                <h3>{content}</h3>\r\n            </header>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BoardUser;","import React, { useState, useEffect } from \"react\";\nimport { Switch, Route, Link } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\n\nimport AuthService from \"./services/auth.service\";\n\nimport Login from \"./components/Login\";\nimport Register from \"./components/Register\";\nimport Home from \"./components/Home\";\nimport Profile from \"./components/Profile\";\nimport BoardUser from \"./components/BoardUser\";\n\nconst App = () => {\n    const [currentUser, setCurrentUser] = useState(undefined);\n\n    useEffect(() => {\n        const user = AuthService.getCurrentUser();\n\n        if (user) {\n            setCurrentUser(user);\n        }\n    }, []);\n\n    const logOut = () => {\n        AuthService.logout();\n    };\n\n    return (\n        <div>\n            <nav className=\"navbar navbar-expand navbar-dark bg-dark\">\n                <Link to={\"/\"} className=\"navbar-brand\">\n                    Peace of Mind\n                </Link>\n                <div className=\"navbar-nav mr-auto\">\n                    <li className=\"nav-item\">\n                        <Link to={\"/home\"} className=\"nav-link\">\n                            Home\n                        </Link>\n                    </li>\n\n                </div>\n\n                {currentUser ? (\n                    <div className=\"navbar-nav ml-auto\">\n                        <li className=\"nav-item\">\n                            <Link to={\"/profile\"} className=\"nav-link\">\n                                {currentUser.nombre}\n                            </Link>\n                        </li>\n                        <li className=\"nav-item\">\n                            <a href=\"/login\" className=\"nav-link\" onClick={logOut}>\n                                LogOut\n                            </a>\n                        </li>\n                    </div>\n                ) : (\n                    <div className=\"navbar-nav ml-auto\">\n                        <li className=\"nav-item\">\n                            <Link to={\"/login\"} className=\"nav-link\">\n                                Login\n                            </Link>\n                        </li>\n\n                        <li className=\"nav-item\">\n                            <Link to={\"/register\"} className=\"nav-link\">\n                                Sign Up\n                            </Link>\n                        </li>\n                    </div>\n                )}\n            </nav>\n\n            <div className=\"container mt-3\">\n                <Switch>\n                    <Route exact path={[\"/\", \"/home\"]} component={Home} />\n                    <Route exact path=\"/login\" component={Login} />\n                    <Route exact path=\"/register\" component={Register} />\n                    <Route exact path=\"/profile\" component={Profile} />\n                    <Route path=\"/user\" component={BoardUser} />\n                </Switch>\n            </div>\n        </div>\n    );\n};\n\nexport default App;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport reportWebVitals from './reportWebVitals';\n\nimport App from \"./App\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n\nreportWebVitals();\n"],"sourceRoot":""}